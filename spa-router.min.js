/*!
 * spa-router.js -http://cloudezin.com
 * Version - 0.0.1 alpha
 * Licensed under the MIT license - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2018 Faizan Hashmi
 */

var route={method:{},application:{DefaultPage:"?page=Dashboard-Dashboard",ContentWrapper:"#main-container",htmlPageName:""}};route.method.routeInit=function(){route.method.loadPageAsync(),window.onpopstate=function(){route.method.loadPageAsync()},route.method.getParameterByName("page")||route.method.loadNewBtnPage(route.application.DefaultPage)},$(document.body).on("click","a.int-link",function(t){t.ctrlKey?url=$(this).attr("href"):(t.preventDefault(),url=$(this).attr("href"),route.method.loadNewBtnPage(url))}),route.method.loadPageAsync=function(){var t=route.method.getParameterByName("page");if(t){var e=t.split("-").shift();htmlPageName=t.split("-").pop();var o="views/"+e+"/"+htmlPageName+".html";$(".menu-nav ul li a").removeClass("nav-active"),$("[data-dir='"+e+"']").addClass("nav-active"),$(route.application.ContentWrapper).load(o)}},route.method.loadNewBtnPage=function(t){var e=t;window.history.pushState("","",e),route.method.loadPageAsync()},route.method.getParameterByName=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},route.method.goBack=function(){console.log(window.history),window.history.back()},route.application.updateURLParameterByName=function(t,e){window.location.href.split("#").shift();for(var o,a=window.location.href.split("#").pop(),n=a.split("?").pop().split("&"),r=[],i="#"+a.split("?").shift()+"?",l=0;l<n.length;l++)r[(o=n[l].split("="))[0]]=o[1];r[t]=e,r[t]||n.push(t+"="+e);for(l=0;l<n.length;l++)i+=n[l].split("=").shift()+"="+r[n[l].split("=").shift()],l!=n.length-1&&(i+="&");window.history.pushState("","",i)};